import{_ as e}from"./index.86834fdb.js";import{e as a,a9 as t,m as s,a as n,g as c,j as o,w as r,aa as u,f as d,a3 as l,ab as i,o as f,F as m,a8 as k,ac as h,O as p,Q as y,P as g,i as C,ad as M,R as v,ae as V,af as b}from"./vendor.87a6fcc2.js";const x=Object.prototype.toString;function _(e){return function(e,a){return x.call(e)===`[object ${a}]`}(e,"Number")}function j(e){let a=e;_(a)&&(a=[0,a]);const[t,s]=a;return Math.round(t+Math.random()*(s-t))}function U(e){let a="";for(let t=0;t<e;t++)a=a.concat(String.fromCharCode(j([97,122])));return a}const $=(e=25)=>{const a=[];for(let t=0;t<e;t++)a.push({key:t,name:`John ${U(j([3,7]))}`,age:j([18,100]),isCheck:!Math.round(Math.random())});return a},w=a({name:"VMemo",setup(){const e=t(),a=s($()),c=s(["key"]),o=n((()=>u(d(c),["key"])));return{setVMemoValue:a=>{console.log(a),e.success(`v-memo=[${a.map((e=>`item.${e}`))}]`),c.value=a},listRef:a,isUpdate:o,getMemoValue:(e,a)=>a.map((a=>e[a])),getMemoKey:c,updateListData:()=>{a.value=$()}}}}),D={class:"flex flex-col justify-center items-center"},L=y("Cannot update"),R=y("Can update"),K=y("updateListData"),O={class:"flex"},S={class:"w-29"},F={class:"px-5"};var J=e(w,[["render",function(e,a,t,s,n,u){const d=M,x=v,_=l,j=V,U=b,$=i;return f(),c("div",D,[o(_,{class:"!mb-5",align:"center"},{default:r((()=>[o(d,{checked:e.isUpdate,onChange:a[0]||(a[0]=a=>e.setVMemoValue(["key"]))},{default:r((()=>[L])),_:1},8,["checked"]),o(d,{checked:!e.isUpdate,onChange:a[1]||(a[1]=a=>e.setVMemoValue(["key","isCheck"]))},{default:r((()=>[R])),_:1},8,["checked"]),o(x,{onClick:e.updateListData},{default:r((()=>[K])),_:1},8,["onClick"])])),_:1}),o($,{bordered:"",class:"w-99 mb-15"},{default:r((()=>[(f(!0),c(m,null,k(e.listRef,((a,t,s,n)=>{const c=e.getMemoValue(a,e.getMemoKey);if(n&&n.key===a.key&&h(n,c))return n;const u=(f(),p(U,{key:a.key},{prefix:r((()=>[y(g(a.key),1)])),suffix:r((()=>[o(j,{checked:a.isCheck,"onUpdate:checked":e=>a.isCheck=e},null,8,["checked","onUpdate:checked"])])),default:r((()=>[C("div",O,[C("div",S,g(a.name),1),C("div",F,g(a.age),1)])])),_:2},1024));return u.memo=c,u}),a,2),128))])),_:1})])}]]);export{J as default};
