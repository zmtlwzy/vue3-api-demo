import{_ as L}from"./index.2c6c92ad.js";import{e as N,a9 as S,m as M,a as x,aa as D,f as R,g as y,j as c,w as s,a3 as U,ab as w,o as m,F as B,a8 as E,ac as F,O as K,Q as _,P as p,i as f,ad as O,R as q,ae as J,af as P}from"./vendor.b337872e.js";const Q=Object.prototype.toString;function T(t,e){return Q.call(t)===`[object ${e}]`}function z(t){return T(t,"Number")}function g(t){let e=t;z(e)&&(e=[0,e]);const[n,r]=e;return Math.round(n+Math.random()*(r-n))}function A(t){let e="";for(let n=0;n<t;n++)e=e.concat(String.fromCharCode(g([97,122])));return e}const V=(t=25)=>{const e=[];for(let n=0;n<t;n++)e.push({key:n,name:`John ${A(g([3,7]))}`,age:g([18,100]),isCheck:!Math.round(Math.random())});return e},G=N({name:"VMemo",setup(){const t=S(),e=M(V()),n=M(["key"]),r=x(()=>D(R(n),["key"]));return{setVMemoValue:a=>{console.log(a),t.success(`v-memo=[${a.map(u=>`item.${u}`)}]`),n.value=a},listRef:e,isUpdate:r,getMemoValue:(a,u)=>u.map(d=>a[d]),getMemoKey:n,updateListData:()=>{e.value=V()}}}}),H={class:"flex flex-col justify-center items-center"},I=_("Cannot update"),W=_("Can update"),X=_("updateListData"),Y={class:"flex"},Z={class:"w-29"},ee={class:"px-5"};function te(t,e,n,r,C,b){const l=O,a=q,u=U,d=J,v=P,$=w;return m(),y("div",H,[c(u,{class:"!mb-5",align:"center"},{default:s(()=>[c(l,{checked:t.isUpdate,onChange:e[0]||(e[0]=o=>t.setVMemoValue(["key"]))},{default:s(()=>[I]),_:1},8,["checked"]),c(l,{checked:!t.isUpdate,onChange:e[1]||(e[1]=o=>t.setVMemoValue(["key","isCheck"]))},{default:s(()=>[W]),_:1},8,["checked"]),c(a,{onClick:t.updateListData},{default:s(()=>[X]),_:1},8,["onClick"])]),_:1}),c($,{bordered:"",class:"w-99 mb-15"},{default:s(()=>[(m(!0),y(B,null,E(t.listRef,(o,ne,oe,i)=>{const k=t.getMemoValue(o,t.getMemoKey);if(i&&i.key===o.key&&F(i,k))return i;const h=(m(),K(v,{key:o.key},{prefix:s(()=>[_(p(o.key),1)]),suffix:s(()=>[c(d,{checked:o.isCheck,"onUpdate:checked":j=>o.isCheck=j},null,8,["checked","onUpdate:checked"])]),default:s(()=>[f("div",Y,[f("div",Z,p(o.name),1),f("div",ee,p(o.age),1)])]),_:2},1024));return h.memo=k,h},e,2),128))]),_:1})])}var ce=L(G,[["render",te]]);export{ce as default};
