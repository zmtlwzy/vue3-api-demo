var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,c=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&s(e,a,t[a]);if(l)for(var a of l(t))n.call(t,a)&&s(e,a,t[a]);return e},r=(e,l)=>t(e,a(l));import{_ as u}from"./GridLayout.vue_vue&type=script&lang.295b3cf9.js";import{g as i,r as d,ah as p,t as h,o as f,M as m,w as v,j as y,e as b,F,a8 as g,P as j,aE as O,R as k,a0 as w,a1 as x,O as _,ae as E,m as C,n as P,f as $,aB as I,aF as L,z as D}from"./vendor.af4c8771.js";import{_ as U}from"./index.c7ef702c.js";var M=i({name:"watchEffectFetch",setup(){const e=d({todoList:[],urlId:1,isFirstFetch:!0});return p((()=>{fetch(`https://jsonplaceholder.typicode.com/todos/${e.urlId}`).then((e=>e.json())).then((t=>{console.log(t),setTimeout((()=>{e.todoList=[t],e.isFirstFetch=!1}),e.isFirstFetch?1500:0)}))})),r(c({},h(e)),{update:()=>{e.urlId++}})}});const T={key:0,class:"mb-5"},W={key:1,class:"flex flex-row items-center mb-5"},z=j("fetch");M.render=function(e,t,a,l,o,n){const s=E,c=O,r=k,u=w,i=x;return f(),m(i,{title:e.$options.name},{default:v((()=>[y(u,{vertical:"",align:"center"},{default:v((()=>[0!==e.todoList.length?(f(),b("ul",T,[(f(!0),b(F,null,g(e.todoList,(e=>(f(),b("li",{key:e.id},[j(_(e.id)+" --- "+_(e.title)+" --- ",1),y(s,{checked:e.completed,"onUpdate:checked":t=>e.completed=t},null,8,["checked","onUpdate:checked"])])))),128))])):(f(),b("div",W,[y(c,{text:"",height:"10px",width:"15px"}),y(c,{class:"ml-3",text:"",width:"120px",height:"10px"}),y(c,{class:"ml-3",circle:"",height:"15px",width:"15px"})])),y(r,{type:"primary",onClick:e.update},{default:v((()=>[z])),_:1},8,["onClick"])])),_:1})])),_:1},8,["title"])};var B=i({name:"watchFlushFlush",setup(){const e=C(),t=C("post");let a;const l=d({count:1,other:2}),o=C(3);function n(){var t;l.other=2*l.count+o.value;const a=1*(null==(t=e.value)?void 0:t.$el.firstElementChild.lastElementChild.firstElementChild.innerText);console.log(`domValue:${a}  state.count:${l.count}`)}return P(t,(e=>{null==a||a(),a=p(n,{flush:e})}),{immediate:!0}),r(c({},h(l)),{count2:o,el:e,mode:t,modeOpt:[{label:"post",value:"post"},{label:"pre",value:"pre"},{label:"sync",value:"sync"}],add:()=>{l.count++,o.value++}})}});const G=$("p",null,"open console",-1),R=$("br",null,null,-1),S=j("add");B.render=function(e,t,a,l,o,n){const s=U,c=k,r=L,u=I,i=w,d=x;return f(),m(d,{title:e.$options.name},{default:v((()=>[y(i,{vertical:"",align:"center"},{default:v((()=>[G,y(s,{varObj:{count:e.count,count2:e.count2,other:e.other},ref:"el"},null,8,["varObj"]),R,y(c,{type:"primary",onClick:e.add},{default:v((()=>[S])),_:1},8,["onClick"]),y(u,{class:"mt-5",value:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.mode=t),name:"watchEffectFlush"},{default:v((()=>[(f(!0),b(F,null,g(e.modeOpt,(e=>(f(),m(r,{key:e.value,value:e.value},{default:v((()=>[j(_(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})])),_:1},8,["title"])};var V=i({name:"watchEffect",components:{FetchDemo:M,WatchEffectFlush:B},setup(){const e=C(0),t=C();return{keyId:e,saveMode:t,handleChange:a=>{e.value++,t.value=a}}}});V.render=function(e,t,a,l,o,n){const s=D("FetchDemo"),c=D("WatchEffectFlush"),r=u;return f(),m(r,null,{default:v((()=>[y(s),y(c)])),_:1})};export{V as default};
