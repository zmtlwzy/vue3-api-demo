import{_ as L}from"./index.e8c8685e.js";import{e as N,a8 as S,m as M,a as x,a9 as D,f as U,g as V,j as c,w as s,a1 as w,aa as B,o as m,F as R,a7 as E,P as r,ab as F,Q as K,ac as O,T,O as p,i as f,ad as q,ae as J}from"./vendor.2d6a9d99.js";const P=Object.prototype.toString;function Q(t,e){return P.call(t)===`[object ${e}]`}function z(t){return Q(t,"Number")}function g(t){let e=t;z(e)&&(e=[0,e]);const[n,i]=e;return Math.round(n+Math.random()*(i-n))}function A(t){let e="";for(let n=0;n<t;n++)e=e.concat(String.fromCharCode(g([97,122])));return e}const C=(t=25)=>{const e=[];for(let n=0;n<t;n++)e.push({key:n,name:`John ${A(g([3,7]))}`,age:g([18,100]),isCheck:!Math.round(Math.random())});return e},G=N({name:"VMemo",setup(){const t=S(),e=M(C()),n=M(["key"]),i=x(()=>D(U(n),["key"]));return{setVMemoValue:a=>{console.log(a),t.success(`v-memo=[${a.map(u=>`item.${u}`)}]`),n.value=a},listRef:e,isUpdate:i,getMemoValue:(a,u)=>u.map(l=>a[l]),getMemoKey:n,updateListData:()=>{e.value=C()}}}}),H={class:"flex flex-col justify-center items-center"},I=r("Cannot update"),W=r(" Can update "),X=r(" updateListData "),Y={class:"flex"},Z={class:"w-29"},ee={class:"px-5"};function te(t,e,n,i,v,b){const _=F,a=K,u=w,l=q,y=J,$=B;return m(),V("div",H,[c(u,{class:"!mb-5",align:"center"},{default:s(()=>[c(_,{checked:t.isUpdate,onChange:e[0]||(e[0]=o=>t.setVMemoValue(["key"]))},{default:s(()=>[I]),_:1},8,["checked"]),c(_,{checked:!t.isUpdate,onChange:e[1]||(e[1]=o=>t.setVMemoValue(["key","isCheck"]))},{default:s(()=>[W]),_:1},8,["checked"]),c(a,{onClick:t.updateListData},{default:s(()=>[X]),_:1},8,["onClick"])]),_:1}),c($,{bordered:"",class:"w-99 mb-15"},{default:s(()=>[(m(!0),V(R,null,E(t.listRef,(o,ne,oe,d)=>{const k=t.getMemoValue(o,t.getMemoKey);if(d&&O(d,k))return d;const h=(m(),T(y,null,{prefix:s(()=>[r(p(o.key),1)]),suffix:s(()=>[c(l,{checked:o.isCheck,"onUpdate:checked":j=>o.isCheck=j},null,8,["checked","onUpdate:checked"])]),default:s(()=>[f("div",Y,[f("div",Z,p(o.name),1),f("div",ee,p(o.age),1)])]),_:2},1024));return h.memo=k,h},e,2),256))]),_:1})])}var ce=L(G,[["render",te]]);export{ce as default};
