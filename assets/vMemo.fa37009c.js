import{e,a5 as a,g as t,a as s,a6 as n,a1 as o,o as c,h as l,i as u,j as r,F as d,K as i,M as m,a7 as f,N as h,Y as p,a8 as k,a9 as g,J as M,L as C,l as v,aa as y,ab as V}from"./vendor.2ed87477.js";const b=Object.prototype.toString;function x(e){return function(e,a){return b.call(e)===`[object ${a}]`}(e,"Number")}function _(e){let a=e;x(a)&&(a=[0,a]);const[t,s]=a;return Math.round(t+Math.random()*(s-t))}function j(e){let a="";for(let t=0;t<e;t++)a=a.concat(String.fromCharCode(_([97,122])));return a}const U=(e=25)=>{const a=[];for(let t=0;t<e;t++)a.push({key:t,name:`John ${j(_([3,7]))}`,age:_([18,100]),isCheck:!Math.round(Math.random())});return a};var L=e({name:"v-memo",setup(){const e=a(),c=t(U()),l=t(["key"]),u=s((()=>n(o(l),["key"])));return{setVMemoValue:a=>{console.log(a),e.success(`v-memo=[${a.map((e=>`item.${e}`))}]`),l.value=a},listRef:c,isUpdate:u,getMemoValue:(e,a)=>a.map((a=>e[a])),getMemoKey:l,updateListData:()=>{c.value=U()}}}});const $={class:"flex flex-col justify-center items-center"},D=m("Cannot update"),K=m(" Can update "),w=m(" updateListData "),J={class:"flex"},N={class:"w-29"},R={class:"px-5"};L.render=function(e,a,t,s,n,o){const b=f,x=h,_=p,j=y,U=V,L=k;return c(),l("div",$,[u(_,{class:"!mb-5",align:"center"},{default:r((()=>[u(b,{checked:e.isUpdate,onChange:a[0]||(a[0]=a=>e.setVMemoValue(["key"]))},{default:r((()=>[D])),_:1},8,["checked"]),u(b,{checked:!e.isUpdate,onChange:a[1]||(a[1]=a=>e.setVMemoValue(["key","name"]))},{default:r((()=>[K])),_:1},8,["checked"]),u(x,{onClick:e.updateListData},{default:r((()=>[w])),_:1},8,["onClick"])])),_:1}),u(L,{bordered:"",class:"w-99 mb-15"},{default:r((()=>[(c(!0),l(d,null,i(e.listRef,((a,t,s,n)=>{const o=e.getMemoValue(a,e.getMemoKey);if(n&&g(n,o))return n;const l=(c(),M(U,null,{prefix:r((()=>[m(C(a.key),1)])),suffix:r((()=>[u(j,{checked:a.isCheck,"onUpdate:checked":e=>a.isCheck=e},null,8,["checked","onUpdate:checked"])])),default:r((()=>[v("div",J,[v("div",N,C(a.name),1),v("div",R,C(a.age),1)])])),_:2},1024));return l.memo=o,l}),a,2),256))])),_:1})])};export{L as default};
