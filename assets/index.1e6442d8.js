var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o,c=(e,t)=>{for(var l in t||(t={}))a.call(t,l)&&s(e,l,t[l]);if(o)for(var l of o(t))n.call(t,l)&&s(e,l,t[l]);return e},r=(e,o)=>t(e,l(o));import{b as u,K as d,q as i,L as h,o as p,e as f,f as m,w as y,F as v,P as b,z as g,y as F,$ as k,ay as C,az as x,C as j,n as w,p as O,Y as E,aA as _,m as I}from"./vendor.5ed175b7.js";import{_ as P}from"./index.3b93fd33.js";var L=u({name:"watchEffectFetch",setup(){const e=d({todoList:[],urlId:1,isFirstFetch:!0});return i((()=>{fetch(`https://jsonplaceholder.typicode.com/todos/${e.urlId}`).then((e=>e.json())).then((t=>{console.log(t),setTimeout((()=>{e.todoList=[t],e.isFirstFetch=!1}),e.isFirstFetch?1500:0)}))})),r(c({},h(e)),{update:()=>{e.urlId++}})}});const $={class:"column-layout"},D=g("FetchDemo"),S={key:0,class:"mb-5"},z={key:1,class:"flex flex-row items-center mb-5"},M=g("fetch");L.render=function(e,t,l,o,a,n){const s=k,c=C,r=x,u=j;return p(),f("div",$,[m(s,null,{default:y((()=>[D])),_:1}),0!==e.todoList.length?(p(),f("ul",S,[(p(!0),f(v,null,b(e.todoList,(e=>(p(),f("li",{key:e.id},[g(F(e.id)+" --- "+F(e.title)+" --- ",1),m(c,{checked:e.completed,"onUpdate:checked":t=>e.completed=t},null,8,["checked","onUpdate:checked"])])))),128))])):(p(),f("div",z,[m(r,{text:"",height:"10px",width:"15px"}),m(r,{class:"ml-3",text:"",width:"120px",height:"10px"}),m(r,{class:"ml-3",circle:"",height:"15px",width:"15px"})])),m(u,{type:"primary",onClick:e.update},{default:y((()=>[M])),_:1},8,["onClick"])])};var T=u({name:"watchFlushFlush",props:["mode"],emits:["change"],setup(e,{emit:t}){var l;const o=w(),a=w(null!=(l=e.mode)?l:"post"),n=d({count:1,other:2}),s=O((()=>({flush:a.value})));E((()=>a.value),(()=>{t("change",a)}));return i((()=>{var e;n.other=2*n.count;1*(null==(e=o.value)?void 0:e.$el.firstElementChild.lastElementChild.firstElementChild.innerText)===n.count&&n.count}),s.value),r(c({},h(n)),{el:o,flushState:a,changeFlush:e=>{a.value=e},add:()=>{n.count++},sub:()=>{n.count--}})}});const U={class:"column-layout"},W=g("Flush"),q=m("p",null,"open console",-1),A=m("br",null,null,-1),K=g("add");T.render=function(e,t,l,o,a,n){const s=k,c=P,r=j,u=_;return p(),f("div",U,[m(s,null,{default:y((()=>[W])),_:1}),q,m(c,{varObj:{count:e.count,other:e.other},ref:"el"},null,8,["varObj"]),A,m(r,{type:"primary",onClick:e.add},{default:y((()=>[K])),_:1},8,["onClick"]),m(u,{class:"mt-5"},{default:y((()=>[(p(),f(v,null,b(["pre","post","sync"],(t=>m(r,{type:e.flushState===`${t}`?"primary":"default",onClick:l=>e.changeFlush(`${t}`)},{default:y((()=>[g(F(t),1)])),_:2},1032,["type","onClick"]))),64))])),_:1})])};var Y=u({name:"watchEffect",components:{FetchDemo:L,WatchEffectFlush:T},setup(){const e=w(0),t=w();return{keyId:e,saveMode:t,handleChange:l=>{console.log("fuck"),e.value++,t.value=l}}}});const B={class:"grid container"};Y.render=function(e,t,l,o,a,n){const s=I("FetchDemo"),c=I("WatchEffectFlush");return p(),f("div",B,[m(s),m(c,{onChange:e.handleChange,mode:e.saveMode,key:e.keyId},null,8,["onChange","mode"])])};export default Y;
