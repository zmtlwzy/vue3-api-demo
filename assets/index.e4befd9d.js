var N=Object.defineProperty,U=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var w=(e,t,n)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))G.call(t,n)&&w(e,n,t[n]);if(E)for(var n of E(t))H.call(t,n)&&w(e,n,t[n]);return e},F=(e,t)=>U(e,A(t));import{_ as k}from"./index.0048b2d6.js";import{e as b,r as x,ag as j,t as W,o as c,T as y,w as u,j as o,g as f,F as B,a7 as D,P as v,aF as M,Q as L,a1 as O,a2 as T,O as C,ad as P,m as $,n as Q,aG as R,i as V,aB as S,aH as q,A as I}from"./vendor.2d6a9d99.js";import{_ as z}from"./DesTable.c9148b09.js";const J=b({name:"WatchEffectFetch",setup(){const e=x({todoList:[],urlId:1,isFirstFetch:!0}),t=()=>{e.urlId++};return j(()=>{fetch(`https://jsonplaceholder.typicode.com/todos/${e.urlId}`).then(n=>n.json()).then(n=>{console.log(n),setTimeout(()=>{e.todoList=[n],e.isFirstFetch=!1},e.isFirstFetch?1500:0)})}),F(g({},W(e)),{update:t})}}),K={key:0,class:"mb-5"},X={key:1,class:"flex flex-row items-center mb-5"},Y=v("fetch");function Z(e,t,n,p,l,i){const _=P,a=M,r=L,h=O,m=T;return c(),y(m,{title:e.$options.name},{default:u(()=>[o(h,{vertical:"",align:"center"},{default:u(()=>[e.todoList.length!==0?(c(),f("ul",K,[(c(!0),f(B,null,D(e.todoList,s=>(c(),f("li",{key:s.id},[v(C(s.id)+" --- "+C(s.title)+" --- ",1),o(_,{checked:s.completed,"onUpdate:checked":d=>s.completed=d},null,8,["checked","onUpdate:checked"])]))),128))])):(c(),f("div",X,[o(a,{text:"",height:"10px",width:"15px"}),o(a,{class:"ml-3",text:"",width:"120px",height:"10px"}),o(a,{class:"ml-3",circle:"",height:"15px",width:"15px"})])),o(r,{type:"primary",onClick:e.update},{default:u(()=>[Y]),_:1},8,["onClick"])]),_:1})]),_:1},8,["title"])}var ee=k(J,[["render",Z]]);const te=b({name:"WatchFlushFlush",setup(){const e=$(),t=$("post");let n;const p=[{label:"post",value:"post"},{label:"pre",value:"pre"},{label:"sync",value:"sync"}],l=x({count:1,other:2}),i=$(3),_=()=>{l.count++,i.value++};Q(t,r=>{n==null||n(),n=j(a,{flush:r})},{immediate:!0});function a(){var h,m,s;l.other=l.count*2+i.value;const r=((s=(m=(h=R(e))==null?void 0:h.firstElementChild)==null?void 0:m.lastElementChild)==null?void 0:s.innerText)*1;console.log(`domValue:${r}  state.count:${l.count}`)}return F(g({},W(l)),{count2:i,el:e,mode:t,modeOpt:p,add:_})}}),ne=V("p",null,"open console",-1),oe=V("br",null,null,-1),se=v("add");function ae(e,t,n,p,l,i){const _=z,a=L,r=q,h=S,m=O,s=T;return c(),y(s,{title:e.$options.name},{default:u(()=>[o(m,{vertical:"",align:"center"},{default:u(()=>[ne,o(_,{varObj:{count:e.count,count2:e.count2,other:e.other},ref:"el"},null,8,["varObj"]),oe,o(a,{type:"primary",onClick:e.add},{default:u(()=>[se]),_:1},8,["onClick"]),o(h,{class:"mt-5",value:e.mode,"onUpdate:value":t[0]||(t[0]=d=>e.mode=d),name:"watchEffectFlush"},{default:u(()=>[(c(!0),f(B,null,D(e.modeOpt,d=>(c(),y(r,{key:d.value,value:d.value},{default:u(()=>[v(C(d.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1})]),_:1},8,["title"])}var ce=k(te,[["render",ae]]);const le=b({name:"WatchEffect",components:{FetchDemo:ee,WatchEffectFlush:ce},setup(){const e=$(0),t=$();return{keyId:e,saveMode:t,handleChange:p=>{e.value++,t.value=p}}}}),ue={class:"grid-layout-2"};function _e(e,t,n,p,l,i){const _=I("FetchDemo"),a=I("WatchEffectFlush");return c(),f("div",ue,[o(_),o(a)])}var he=k(le,[["render",_e]]);export{he as default};
