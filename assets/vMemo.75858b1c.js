import{_ as S}from"./index.ea82313a.js";import{g as j,aa as L,m as M,a as x,ab as D,h as U,e as C,j as c,w as s,a3 as w,ac as B,o as m,F as R,a9 as E,Q as i,ad as F,S as K,ae as q,N as J,P as p,f,af as O,ag as P}from"./vendor.8b730130.js";const Q=Object.prototype.toString;function T(t,e){return Q.call(t)===`[object ${e}]`}function z(t){return T(t,"Number")}function g(t){let e=t;z(e)&&(e=[0,e]);const[n,r]=e;return Math.round(n+Math.random()*(r-n))}function A(t){let e="";for(let n=0;n<t;n++)e=e.concat(String.fromCharCode(g([97,122])));return e}const V=(t=25)=>{const e=[];for(let n=0;n<t;n++)e.push({key:n,name:`John ${A(g([3,7]))}`,age:g([18,100]),isCheck:!Math.round(Math.random())});return e},G=j({name:"v-memo",setup(){const t=L(),e=M(V()),n=M(["key"]),r=x(()=>D(U(n),["key"]));return{setVMemoValue:a=>{console.log(a),t.success(`v-memo=[${a.map(u=>`item.${u}`)}]`),n.value=a},listRef:e,isUpdate:r,getMemoValue:(a,u)=>u.map(l=>a[l]),getMemoKey:n,updateListData:()=>{e.value=V()}}}}),H={class:"flex flex-col justify-center items-center"},I=i("Cannot update"),W=i(" Can update "),X=i(" updateListData "),Y={class:"flex"},Z={class:"w-29"},ee={class:"px-5"};function te(t,e,n,r,v,b){const _=F,a=K,u=w,l=O,y=P,$=B;return m(),C("div",H,[c(u,{class:"!mb-5",align:"center"},{default:s(()=>[c(_,{checked:t.isUpdate,onChange:e[0]||(e[0]=o=>t.setVMemoValue(["key"]))},{default:s(()=>[I]),_:1},8,["checked"]),c(_,{checked:!t.isUpdate,onChange:e[1]||(e[1]=o=>t.setVMemoValue(["key","isCheck"]))},{default:s(()=>[W]),_:1},8,["checked"]),c(a,{onClick:t.updateListData},{default:s(()=>[X]),_:1},8,["onClick"])]),_:1}),c($,{bordered:"",class:"w-99 mb-15"},{default:s(()=>[(m(!0),C(R,null,E(t.listRef,(o,ne,oe,d)=>{const h=t.getMemoValue(o,t.getMemoKey);if(d&&q(d,h))return d;const k=(m(),J(y,null,{prefix:s(()=>[i(p(o.key),1)]),suffix:s(()=>[c(l,{checked:o.isCheck,"onUpdate:checked":N=>o.isCheck=N},null,8,["checked","onUpdate:checked"])]),default:s(()=>[f("div",Y,[f("div",Z,p(o.name),1),f("div",ee,p(o.age),1)])]),_:2},1024));return k.memo=h,k},e,2),256))]),_:1})])}var ce=S(G,[["render",te]]);export{ce as default};
