var e=Object.defineProperty,o=Object.defineProperties,n=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,c=(o,n,l)=>n in o?e(o,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[n]=l;import{_ as r}from"./index.527fe606.js";import{g as s,l as u,af as p,a as d,w as f,ag as i,ah as b,ai as v,o as g,L as O,n as h,m as S,O as j,Q as m,$ as _,a0 as y}from"./vendor.173cf73b.js";var C=s({name:"effectScope",setup(){const e=u(1),r=p(),s=p();console.log(r,"scope"),console.log(s,"scope2"),console.log((null==r?void 0:r.parent)===(null==s?void 0:s.parent));const g=r.run((()=>{const o=d((()=>2*e.value));return f(o,(()=>console.log(o.value))),i((()=>console.log("Count: ",o.value))),v((()=>{console.log("cleaned!")})),{doubled:o}}));s.cleanups.push((()=>{console.log("scope2 cleanups push")})),r.cleanups.push((()=>{console.log("scope cleanups push")})),O();function O(){const e=b();return console.log(e,"current"),e}return h=((e,o)=>{for(var n in o||(o={}))t.call(o,n)&&c(e,n,o[n]);if(l)for(var n of l(o))a.call(o,n)&&c(e,n,o[n]);return e})({},g),o(h,n({counter:e,handleScope:e=>{var o;let n;if("currentStop"!==e){if("scope2On"===e)return s.on(),void O();r[e](),n=O(),console.log(n===r,n===s)}else console.log(null==(o=O())?void 0:o.stop())}}));var h}});const k=j("add"),w=j("on"),P=j("off"),x=j("stop"),$=j("currentStop"),D=j("scope2On");C.render=function(e,o,n,l,t,a){const c=r,s=m,u=_,p=y;return g(),O(p,{title:e.$options.name},{action:h((()=>[S(u,null,{default:h((()=>[S(s,{onClick:o[0]||(o[0]=o=>e.counter++)},{default:h((()=>[k])),_:1}),S(s,{onClick:o[1]||(o[1]=o=>e.handleScope("on"))},{default:h((()=>[w])),_:1}),S(s,{onClick:o[2]||(o[2]=o=>e.handleScope("off"))},{default:h((()=>[P])),_:1}),S(s,{onClick:o[3]||(o[3]=o=>e.handleScope("stop"))},{default:h((()=>[x])),_:1}),S(s,{onClick:o[4]||(o[4]=o=>e.handleScope("currentStop"))},{default:h((()=>[$])),_:1}),S(s,{onClick:o[5]||(o[5]=o=>e.handleScope("scope2On"))},{default:h((()=>[D])),_:1})])),_:1})])),default:h((()=>[S(c,{"var-obj":{counter:e.counter,doubled:e.doubled}},null,8,["var-obj"])])),_:1},8,["title"])};export{C as default};
