var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,c=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&s(e,a,t[a]);if(l)for(var a of l(t))n.call(t,a)&&s(e,a,t[a]);return e},r=(e,l)=>t(e,a(l));import{_ as u}from"./index.15a0d8dd.js";import{e as i,r as d,ah as p,t as h,o as m,O as f,w as v,j as b,g as y,F,a8 as g,Q as j,P as O,ae as k,aE as x,R as w,a3 as _,a2 as E,m as C,n as P,aF as I,i as W,aG as $,aB as D,A as L}from"./vendor.3c431514.js";import{_ as T}from"./DesTable.35701365.js";const U=i({name:"WatchEffectFetch",setup(){const e=d({todoList:[],urlId:1,isFirstFetch:!0});return p((()=>{fetch(`https://jsonplaceholder.typicode.com/todos/${e.urlId}`).then((e=>e.json())).then((t=>{console.log(t),setTimeout((()=>{e.todoList=[t],e.isFirstFetch=!1}),e.isFirstFetch?1500:0)}))})),r(c({},h(e)),{update:()=>{e.urlId++}})}}),A={key:0,class:"mb-5"},B={key:1,class:"flex flex-row items-center mb-5"},G=j("fetch");var M=u(U,[["render",function(e,t,a,l,o,n){const s=k,c=x,r=w,u=_,i=E;return m(),f(i,{title:e.$options.name},{default:v((()=>[b(u,{vertical:"",align:"center"},{default:v((()=>[0!==e.todoList.length?(m(),y("ul",A,[(m(!0),y(F,null,g(e.todoList,(e=>(m(),y("li",{key:e.id},[j(O(e.id)+" --- "+O(e.title)+" --- ",1),b(s,{checked:e.completed,"onUpdate:checked":t=>e.completed=t},null,8,["checked","onUpdate:checked"])])))),128))])):(m(),y("div",B,[b(c,{text:"",height:"10px",width:"15px"}),b(c,{class:"ml-3",text:"",width:"120px",height:"10px"}),b(c,{class:"ml-3",circle:"",height:"15px",width:"15px"})])),b(r,{type:"primary",onClick:e.update},{default:v((()=>[G])),_:1},8,["onClick"])])),_:1})])),_:1},8,["title"])}]]);const Q=i({name:"WatchFlushFlush",setup(){const e=C(),t=C("post");let a;const l=d({count:1,other:2}),o=C(3);function n(){var t,a,n;l.other=2*l.count+o.value;const s=1*(null==(n=null==(a=null==(t=I(e))?void 0:t.firstElementChild)?void 0:a.lastElementChild)?void 0:n.innerText);console.log(`domValue:${s}  state.count:${l.count}`)}return P(t,(e=>{null==a||a(),a=p(n,{flush:e})}),{immediate:!0}),r(c({},h(l)),{count2:o,el:e,mode:t,modeOpt:[{label:"post",value:"post"},{label:"pre",value:"pre"},{label:"sync",value:"sync"}],add:()=>{l.count++,o.value++}})}}),R=W("p",null,"open console",-1),S=W("br",null,null,-1),V=j("add");const q=i({name:"WatchEffect",components:{FetchDemo:M,WatchEffectFlush:u(Q,[["render",function(e,t,a,l,o,n){const s=T,c=w,r=$,u=D,i=_,d=E;return m(),f(d,{title:e.$options.name},{default:v((()=>[b(i,{vertical:"",align:"center"},{default:v((()=>[R,b(s,{varObj:{count:e.count,count2:e.count2,other:e.other},ref:"el"},null,8,["varObj"]),S,b(c,{type:"primary",onClick:e.add},{default:v((()=>[V])),_:1},8,["onClick"]),b(u,{class:"mt-5",value:e.mode,"onUpdate:value":t[0]||(t[0]=t=>e.mode=t),name:"watchEffectFlush"},{default:v((()=>[(m(!0),y(F,null,g(e.modeOpt,(e=>(m(),f(r,{key:e.value,value:e.value},{default:v((()=>[j(O(e.label),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])),_:1})])),_:1},8,["title"])}]])},setup(){const e=C(0),t=C();return{keyId:e,saveMode:t,handleChange:a=>{e.value++,t.value=a}}}}),z={class:"grid-layout-2"};var H=u(q,[["render",function(e,t,a,l,o,n){const s=L("FetchDemo"),c=L("WatchEffectFlush");return m(),y("div",z,[b(s),b(c)])}]]);export{H as default};
