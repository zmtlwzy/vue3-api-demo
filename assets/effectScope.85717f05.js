var o=Object.defineProperty,e=Object.defineProperties,l=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,t=(e,l,n)=>l in e?o(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n;import{_ as c}from"./index.bb6e3e64.js";import{e as r,l as p,ae as u,a as d,w as f,I as i,af as b,ag as g,o as v,L as h,n as j,m,O,P as y,a0 as _,$ as S}from"./vendor.5b08720f.js";var C=r({name:"effectScope",setup(){const o=p(1),c=u(),r=u();console.log(c,"scope"),console.log(r,"scope2"),console.log((null==c?void 0:c.parent)===(null==r?void 0:r.parent));const v=c.run((()=>{const e=d((()=>2*o.value));return f(e,(()=>console.log(e.value))),i((()=>console.log("Count: ",e.value))),b((()=>{console.log("cleaned!")})),{doubled:e}}));r.on(),r.cleanups.push((()=>{console.log("scope2 cleanups push")})),c.cleanups.push((()=>{console.log("scope cleanups push")}));return h=((o,e)=>{for(var l in e||(e={}))a.call(e,l)&&t(o,l,e[l]);if(n)for(var l of n(e))s.call(e,l)&&t(o,l,e[l]);return o})({},v),e(h,l({counter:o,scope:c,handleScope:o=>{const e=g();if(console.log(e),"all stop"===o)return console.log(null==e?void 0:e.stop());c[o](),console.log(e===c,e===r)}}));var h}});const P=O("add"),k=O("on"),w=O("off"),x=O("stop"),I=O("all stop");C.render=function(o,e,l,n,a,s){const t=c,r=y,p=_,u=S;return v(),h(u,{title:o.$options.name},{action:j((()=>[m(p,null,{default:j((()=>[m(r,{onClick:e[0]||(e[0]=e=>o.counter++)},{default:j((()=>[P])),_:1}),m(r,{onClick:e[1]||(e[1]=e=>o.handleScope("on"))},{default:j((()=>[k])),_:1}),m(r,{onClick:e[2]||(e[2]=e=>o.handleScope("off"))},{default:j((()=>[w])),_:1}),m(r,{onClick:e[3]||(e[3]=e=>o.handleScope("stop"))},{default:j((()=>[x])),_:1}),m(r,{onClick:e[4]||(e[4]=e=>o.handleScope("all stop"))},{default:j((()=>[I])),_:1})])),_:1})])),default:j((()=>[m(t,{"var-obj":{counter:o.counter,doubled:o.doubled}},null,8,["var-obj"])])),_:1},8,["title"])};export{C as default};
