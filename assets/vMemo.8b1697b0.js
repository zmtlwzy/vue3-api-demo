import{e,a5 as a,g as t,a as s,a1 as n,o as c,h as o,i as l,j as r,F as u,K as d,M as i,a6 as m,N as f,Y as h,a7 as p,a8 as k,J as g,L as M,l as C,a9 as v,aa as y}from"./vendor.64c953bc.js";const V=Object.prototype.toString;function b(e){return function(e,a){return V.call(e)===`[object ${a}]`}(e,"Number")}function x(e){let a=e;b(a)&&(a=[0,a]);const[t,s]=a;return Math.round(t+Math.random()*(s-t))}function _(e){let a="";for(let t=0;t<e;t++)a=a.concat(String.fromCharCode(x([97,122])));return a}const j=(e=25)=>{const a=[];for(let t=0;t<e;t++)a.push({key:t,name:`John ${_(x([3,7]))}`,age:x([18,100]),isCheck:!Math.round(Math.random())});return a};var U=e({name:"v-memo",setup(){const e=a(),c=t(j()),o=t(["key"]),l=s((()=>{const e=n(o);return 1===e.length&&"key"===e[0]}));return{setVMemoValue:a=>{console.log(a),e.success(`v-memo=[${a.map((e=>`item.${e}`))}]`),o.value=a},listRef:c,isUpdate:l,getMemoValue:(e,a)=>a.map((a=>e[a])),getMemoKey:o,updateListData:()=>{c.value=j()}}}});const L={class:"flex flex-col justify-center items-center"},$=i("Cannot update"),D=i(" Can update "),K=i(" updateListData "),w={class:"flex"},J={class:"w-29"},N={class:"px-5"};U.render=function(e,a,t,s,n,V){const b=m,x=f,_=h,j=v,U=y,R=p;return c(),o("div",L,[l(_,{class:"!mb-5",align:"center"},{default:r((()=>[l(b,{checked:e.isUpdate,onChange:a[0]||(a[0]=a=>e.setVMemoValue(["key"]))},{default:r((()=>[$])),_:1},8,["checked"]),l(b,{checked:!e.isUpdate,onChange:a[1]||(a[1]=a=>e.setVMemoValue(["key","name"]))},{default:r((()=>[D])),_:1},8,["checked"]),l(x,{onClick:e.updateListData},{default:r((()=>[K])),_:1},8,["onClick"])])),_:1}),l(R,{bordered:"",class:"w-99 mb-15"},{default:r((()=>[(c(!0),o(u,null,d(e.listRef,((a,t,s,n)=>{const o=e.getMemoValue(a,e.getMemoKey);if(n&&k(n,o))return n;const u=(c(),g(U,null,{prefix:r((()=>[i(M(a.key),1)])),suffix:r((()=>[l(j,{checked:a.isCheck,"onUpdate:checked":e=>a.isCheck=e},null,8,["checked","onUpdate:checked"])])),default:r((()=>[C("div",w,[C("div",J,M(a.name),1),C("div",N,M(a.age),1)])])),_:2},1024));return u.memo=o,u}),a,2),256))])),_:1})])};export{U as default};
